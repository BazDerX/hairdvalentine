<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For Moody ‚ù§Ô∏è</title>

<style>
  :root{
    --pink:#ff4d6d;
    --pink2:#ff9a9e;
    --bg2:#fad0c4;
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Segoe UI', sans-serif;
    background:linear-gradient(135deg,var(--pink2),var(--bg2));
    overflow:hidden;
  }

  /* --- layers --- */
  .hearts, .confetti, .glow {
    position:fixed;
    inset:0;
    pointer-events:none;
    overflow:hidden;
  }
  .hearts{ z-index:0; }
  .confetti{ z-index:3; }
  .glow{ z-index:1; opacity:0; transition: opacity .4s ease; }

  .glow.on{
    opacity:1;
    background: radial-gradient(circle at 50% 40%, rgba(255,77,109,.35), transparent 55%);
    filter: blur(2px);
  }

  /* --- card --- */
  .card{
    width:min(420px, 90vw);
    background:white;
    border-radius:24px;
    padding:28px 26px;
    text-align:center;
    box-shadow:0 24px 60px rgba(0,0,0,0.22);
    position:relative;
    z-index:2;
    transform: translateY(0);
    animation: popIn .9s ease both;
  }

  @keyframes popIn{
    from{ opacity:0; transform:translateY(18px) scale(.98); }
    to{ opacity:1; transform:translateY(0) scale(1); }
  }

  .title{
    margin:0;
    color:var(--pink);
    font-size:32px;
    letter-spacing:.2px;
  }

  .subtitle{
    margin:10px 0 0;
    font-size:16px;
    line-height:1.55;
    color:#333;
    min-height: 52px;
    transition: opacity .25s ease, transform .25s ease;
  }

  .subtitle.fadeOut{ opacity:0; transform: translateY(6px); }
  .subtitle.fadeIn{ opacity:1; transform: translateY(0); }

  .row{
    display:flex;
    gap:10px;
    justify-content:center;
    flex-wrap:wrap;
    margin-top:16px;
  }

  button{
    border:none;
    cursor:pointer;
    border-radius:999px;
    padding:12px 18px;
    font-weight:600;
    transition: transform .15s ease, filter .15s ease;
  }
  button:active{ transform: scale(.98); }

  .btn{
    background:var(--pink);
    color:white;
    min-width:140px;
    box-shadow:0 10px 22px rgba(255,77,109,.35);
  }
  .btn:hover{ filter: brightness(1.03); }

  .btn2{
    background:rgba(255,77,109,.12);
    color:var(--pink);
  }

  .small{
    margin-top:14px;
    font-size:12.5px;
    color:#666;
    opacity:.9;
  }

  /* --- hearts falling --- */
  .heart{
    position:absolute;
    top:-22px;
    animation: fall linear forwards;
    will-change: transform, opacity;
    filter: drop-shadow(0 6px 10px rgba(0,0,0,.15));
  }
  @keyframes fall{
    to{ transform: translateY(110vh) translateX(var(--drift)); opacity:0; }
  }

  /* --- confetti --- */
  .piece{
    position:absolute;
    width:10px;
    height:14px;
    border-radius:3px;
    opacity:.95;
    animation: confettiFall linear forwards;
    will-change: transform, opacity;
  }
  @keyframes confettiFall{
    to{ transform: translateY(110vh) rotate(720deg); opacity:0; }
  }

  /* --- modal --- */
  .modal{
    position:fixed;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    background:rgba(0,0,0,.35);
    z-index:10;
    padding:18px;
  }
  .modal.open{ display:flex; }

  .sheet{
    width:min(520px, 95vw);
    background:white;
    border-radius:22px;
    padding:20px 18px;
    box-shadow:0 24px 70px rgba(0,0,0,.28);
    position:relative;
    animation: popIn .25s ease both;
  }

  .sheet h2{
    margin:0 0 10px;
    color:var(--pink);
    font-size:22px;
  }
  .letter{
    background: linear-gradient(180deg, rgba(255,77,109,.08), transparent);
    border:1px solid rgba(255,77,109,.2);
    border-radius:16px;
    padding:14px 14px;
    text-align:left;
    line-height:1.65;
    color:#222;
    font-size:15px;
    white-space:pre-line;
  }
  .closeX{
    position:absolute;
    top:12px;
    right:12px;
    width:38px;
    height:38px;
    border-radius:999px;
    border:none;
    background:rgba(0,0,0,.06);
    cursor:pointer;
    font-size:18px;
  }

  /* --- music chip --- */
  .chip{
    margin:12px auto 0;
    display:inline-flex;
    align-items:center;
    gap:8px;
    padding:8px 12px;
    border-radius:999px;
    border:1px solid rgba(255,77,109,.25);
    background:rgba(255,255,255,.6);
    color:#333;
    font-size:13px;
  }
  .dot{
    width:9px; height:9px; border-radius:50%;
    background:#bbb;
  }
  .dot.on{ background: #22c55e; }
</style>
</head>

<body>

<div class="hearts" id="hearts"></div>
<div class="glow" id="glow"></div>
<div class="confetti" id="confetti"></div>

<div class="card">
  <h1 class="title" id="title">Hi, –•”©”©—Ä—Ö–Ω”©”©üíó</h1>
  <p class="subtitle fadeIn" id="text">–•–∞–º–≥–∞–∞—Å —Ö–∞–π—Ä—Ç–∞–π –æ—Ö–∏–Ω–¥–æ–æ –∑–æ—Ä–∏—É–ª–∞–≤.</p>

  <div class="row">
    <button class="btn" id="btnMain">–≠–Ω—ç –¥—ç—ç—Ä –¥–∞—Ä–∞–∞—Ä–∞–π —Ö–∞–π—Ä–∞–∞ ‚ú®</button>
    <button class="btn2" id="btnLetter">–ó–∞—Ö–∏–¥–∞–ª –Ω—ç—ç—Ö üíå</button>
  </div>

  <div class="chip" title="Music is optional">
    <span class="dot" id="musicDot"></span>
    <span id="musicLabel">Music: OFF</span>
    <button class="btn2" id="btnMusic" style="padding:7px 12px;">–•”©–≥–∂–∏–º üéµ</button>
  </div>

  <div class="small" id="small">
    Tip: Click ‚ú® multiple times üòâ
  </div>

  <!-- optional music (local file is best) -->
  <audio id="music" loop>
    <!-- If you want local music: put "song.mp3" in same folder and uncomment next line -->
    <source src="song.mp3.mp3" type="audio/mpeg"> 
  </audio>
</div>

<!-- Love letter modal -->
<div class="modal" id="modal">
  <div class="sheet">
    <button class="closeX" id="closeX">‚úï</button>
    <h2>For My Moodygorl üíñ</h2>
    <div class="letter" id="letterText"></div>
    <div class="row" style="margin-top:14px;">
      <button class="btn" id="btnYes">Will you be my Valentine? üíò</button>
      <button class="btn2" id="btnClose">–ì–∞—Ä–∞—Ö</button>
    </div>
  </div>
</div>

<script>


  // --- messages ---
  const messages = [
"–•—ç–¥–∏–π –±–∏–¥–Ω–∏–π —Ö–æ–æ—Ä–æ–Ω–¥ –∑–∞–π —Ö–æ–ª —á, –º–∏–Ω–∏–π –∑“Ø—Ä—Ö “Ø—Ä–≥—ç–ª–∂ —á–∞–º—Ä—É—É üåç",
"”®–¥”©—Ä –±“Ø—Ä, –¥–∞—Ö–∏–Ω –¥–∞—Ö–∏–Ω –±–∏ —á–∞–º–∞–π–≥ —Å–æ–Ω–≥–æ—Å–æ–æ—Ä –ª –±–∞–π–Ω–∞ üíï",
"–ñ–∏–Ω—Ö—ç–Ω—ç —Ö–∞–π—Ä –≥—ç–¥—ç–≥ –∑–∞–π, —Ü–∞–≥ —Ö—É–≥–∞—Ü–∞–∞–Ω–¥ —Ö—ç–º–∂–∏–≥–¥–¥—ç–≥–≥“Ø–π –∑“Ø–≥—ç—ç—Ä –ª –º—ç–¥—Ä—ç–≥–¥–¥—ç–≥ ‚ù§Ô∏è",
"–ß–∏ –±–æ–ª –º–∏–Ω–∏–π —Ç–∞–π–≤—à—Ä–∞—Ö –≥–∞–∑–∞—Ä, –º–∏–Ω–∏–π –∞–º–∞—Ä –∞–º–≥–∞–ª–∞–Ω, –º–∏–Ω–∏–π –≥—ç—Ä üè°",
"–•—ç–∑—ç—ç–¥ –º–∏–Ω–∏–π —Å–æ–Ω–≥–æ–ª—Ç “Ø—Ä–≥—ç–ª–∂ —á–∏. ”®–Ω–≥”©—Ä—Å”©–Ω, –û–¥–æ–æ, –ò—Ä—ç—ç–¥“Ø–π–¥ üíû",
"–ß–∞–º—Ç–∞–π —É—á–∏—Ä—Å–∞–Ω –º–∏–Ω—å –º–∏–Ω–∏–π –∞–º—å–¥—Ä–∞–ª—ã–Ω —Ö–∞–º–≥–∏–π–Ω —Å–∞–π—Ö–∞–Ω –∑“Ø–π–ª –ì—ç–≥—ç—ç–Ω –í–∞–ª–µ–Ω—Ç–∏–Ω—ã –±–∞—è—Ä—ã–Ω –º—ç–Ω–¥ üåπ"
];
  let i = 0;

  const textEl = document.getElementById("text");
  const glowEl = document.getElementById("glow");

  function changeMessage(){
    textEl.classList.add("fadeOut");
    setTimeout(()=>{
      textEl.textContent = messages[i];
      i = (i + 1) % messages.length;
      textEl.classList.remove("fadeOut");
      textEl.classList.add("fadeIn");
      setTimeout(()=> textEl.classList.remove("fadeIn"), 250);
    }, 220);
  }

  // --- confetti burst + glow ---
  const confetti = document.getElementById("confetti");

  function burstConfetti(count=22){
    glowEl.classList.add("on");
    setTimeout(()=> glowEl.classList.remove("on"), 450);

    for(let k=0;k<count;k++){
      const p = document.createElement("div");
      p.className="piece";

      // random color without hardcoding exact palette? (still simple)
      const hue = Math.floor(Math.random()*360);
      p.style.background = `hsl(${hue} 90% 60%)`;

      p.style.left = (Math.random()*100) + "vw";
      p.style.top  = (-10 - Math.random()*30) + "px";

      const dur = (2.8 + Math.random()*2.2);
      p.style.animationDuration = dur + "s";

      const drift = (Math.random()*200 - 100) + "px";
      p.style.transform = `translateX(${drift}) rotate(${Math.random()*180}deg)`;

      confetti.appendChild(p);
      setTimeout(()=>p.remove(), (dur*1000)+200);
    }
  }

  // --- hearts background (fixed, no layout bug) ---
  const heartsLayer = document.getElementById("hearts");

  function spawnHeart(){
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.textContent = Math.random() < 0.35 ? "üíó" : "‚ù§Ô∏è";

    heart.style.left = (Math.random()*100) + "vw";
    heart.style.fontSize = (14 + Math.random()*16) + "px";
    heart.style.animationDuration = (4 + Math.random()*5) + "s";
    heart.style.setProperty("--drift", (Math.random()*60 - 30) + "px");

    heartsLayer.appendChild(heart);
    setTimeout(()=>heart.remove(), 9500);
  }
  setInterval(spawnHeart, 650);

  // --- Love letter content ---
  const letterTextEl = document.getElementById("letterText");
  function buildLetter(){
    const who = name.trim() ? name.trim() : "my love";
    letterTextEl.textContent =
`Hello baby.
–¶—ç—Ä—ç–≥—Ç —è–≤—Å–Ω–∞–∞—Å —Ö–æ–π—à –∏–Ω–≥—ç–∂ –∑–∞—Ö–∏–∞ –±–∏—á—ç—ç–≥“Ø–π —É–¥—Å–∞–Ω –±–∞–π–Ω–∞, —Ç–∏–π–º —ç—ç —Ö–∞—Ö–∞ —Ç—ç—Ö–¥—ç—ç —ç–Ω—ç —É–¥–∞–∞ digital –∑–∞—Ö–∏–¥–∞–ª.
–•–æ—ë—É–ª–∞–∞ –Ω—ç–≥–Ω—ç—ç—Å—ç—ç —Ö–æ–ª, —É–¥–∞–∞–Ω —É—É–ª–∑–∞–∞–≥“Ø–π –Ω—ç–≥–Ω–∏–π–≥—ç—ç –∑”©–Ω–¥”©”© —Å–∞–Ω–∞–∞–¥ —Ö—ç—Ü“Ø“Ø —Ü–∞–≥ —Ö—É–≥–∞—Ü–∞–∞–≥ —Ç—É—É–ª–∂ –±–∞–π–∂ –∑–∞—Ä–∏–º–¥–∞–∞ –±–∏–µ –±–∏–µ–Ω—ç—ç –±“Ø—Ä—ç–Ω –æ–π–ª–≥–æ—Ö–≥“Ø–π, –∂–∏–∂–∏–≥ –∞—Å—É—É–¥–ª—É—É–¥ –≥–∞—Ä—á, —á–∞–º–∞–π–≥–∞–∞ —É—É—Ä–ª—É—É–ª—á–∏—Ö–¥–∞–≥ –±–æ–ª —Ö–∞–π—Ä—ã–≥–∞–∞ —É—É—á–ª–∞–∞—Ä–∞–π.
–•–∞–π—Ä –Ω—å —é—É –≥—ç—ç–ª —Ö–∞–π—Ä—ã–≥–∞–∞ –æ—Ä—Ö–∏—Ö–æ–≤–¥—ç—ç —ç–Ω–∏–π–≥ —É—É–ª–Ω–∞ ”©–Ω”©”©–¥”©—Ä —Å—ç—Ä—Ö—ç–¥ –Ω—å ”©–≥–Ω”© –≥—ç–∂ –±–æ–¥–æ–∂ –±–∞–π—Å—ã–Ω —Ç—ç–≥—Å—ç–Ω –¥—É—É—Å–≥–∞–∂ –∞–º–∂–∏–¥–≥“Ø–π—ç —à–∏–±–∞ –Ω—ç–≥ —Å–æ–Ω–∏–Ω –±–æ–ª–æ–æ–¥ –Ω–∞–∞–≥–∞–∞–¥ —Ç—ç–≥—ç—ç–ª –∑–∞–∑–∞ —Ö–∞–π—Ä—ã–≥ –∞–∂–∏–ª–¥–∞–∞ —è–≤–∞—Ö–∞–∞—Ä –¥—É—É—Å–≥–∞–∞–¥ —è–≤—É—É–ª–∞—è –≥—ç—ç–¥ —Ç—ç–≥—ç—ç–¥ –∞–º–∏—Ö–∞–Ω–¥–∞–∞ surprise –±–∞—Ä–∏—è –≥—ç—ç–¥ —Ö–∞–π—Ä—ã–≥ ”©–¥”©—Ä —é–º —è—Ä–∏–∞–¥ –±–∞–π—Ö–∞–¥ –Ω—å –±–∞–ª–∞–π2 —é–º —è—Ä–∏–∞–¥ –∂–æ–æ—Ö–æ–Ω –≥–æ–º–¥–æ–æ—á–∏—Ö —à–∏–≥ –ª –±–æ–ª–ª–æ–æ —Ö–∞—Ö–∞.
–ì—ç—Ö–¥—ç—ç –Ω—ç–≥ –∑“Ø–π–ª–∏–π–≥ “Ø–Ω—ç–Ω—ç—ç—Å—ç—ç —Ö—ç–ª—Ö—ç–¥ –º–∏–Ω–∏–π —Ö–∞–π—Ä “Ø–Ω—ç—Ö—ç—ç—Ä –º—É–Ω–¥–∞–≥ —à“Ø“Ø.

–ù—ç–≥ –∑“Ø–π–ª –±–æ–ª –±–∞—Ç—Ç–∞–π –±–∏ —á–∞–º–∞–∞—Å –∏–ª“Ø“Ø –∏—Ö —Ö–∞–π—Ä—Ç–∞–π –∑–∞ —Ö–∞—Ö–∞.
–•–∞–∞–Ω–∞ —á —Ö—ç–∑—ç—ç–¥ —á —Ö—ç–Ω–∏–π —á ”©–º–Ω”© —á–∞–º–∞–π–≥–∞–∞ —Ö–∞–º–≥–∞–∞–ª–∂ —Ö–∞–π—Ä–ª–∞–∂ –∏–π–º —Ö”©”©—Ä—Ö”©–Ω –∂–∏–∂–∏–≥—Ö—ç–Ω –æ—Ö–∏–Ω–∏–π–≥ –Ω–∞–Ω–¥–∏–≥–Ω–∞–∂ —è–≤–Ω–∞ —Ö”©”©—Ä—Ö–Ω”©”© –æ–æ—ë.
–ó–∞—Ä–∏–º–¥–∞–∞ my brain not working –±–æ–ª—á–¥–æ–≥ –±–æ–ª—Ö–æ–æ—Å —Ö–∞—Ö–∞.
–ó–∞–∑–∞ —Ö–æ—ë—É–ª–∞–∞ –∑”©–Ω–¥”©”© —Ö–∏—á—ç—ç–Ω—ç—ç —Ç—ç–≥—ç—ç–¥ –∑”©–Ω–¥”©”© —Å–∞–Ω–∞–∂ –±–∞–π–Ω–∞ —Ö–∞–π—Ä—Ç–∞–π —à“Ø“Ø. 

- From Bazaraa ‚ù§Ô∏è`;
  }
  buildLetter();

  // --- modal controls ---
  const modal = document.getElementById("modal");
  const btnLetter = document.getElementById("btnLetter");
  const btnClose = document.getElementById("btnClose");
  const closeX = document.getElementById("closeX");

  function openModal(){ modal.classList.add("open"); }
  function closeModal(){ modal.classList.remove("open"); }

  btnLetter.addEventListener("click", ()=>{ burstConfetti(16); openModal(); });
  btnClose.addEventListener("click", closeModal);
  closeX.addEventListener("click", closeModal);
  modal.addEventListener("click", (e)=>{ if(e.target === modal) closeModal(); });

  // --- main button ---
  const btnMain = document.getElementById("btnMain");
  btnMain.addEventListener("click", ()=>{
    changeMessage();
    burstConfetti(22);
  });

  // --- Valentine YES button ---
  document.getElementById("btnYes").addEventListener("click", ()=>{
    burstConfetti(40);
    alert("YES!!! –ó–∞ –∑”©–≤—à”©”©—Ä—Å”©–Ω —à“Ø“Ø –±–∞–∂–∞–Ω–∞ üíòüíòüíò");
  });

  // --- music toggle (works best with local song.mp3) ---
  const music = document.getElementById("music");
  const btnMusic = document.getElementById("btnMusic");
  const musicDot = document.getElementById("musicDot");
  const musicLabel = document.getElementById("musicLabel");

  let musicOn = false;
  function setMusicUI(){
    musicDot.classList.toggle("on", musicOn);
    musicLabel.textContent = "Music: " + (musicOn ? "ON" : "OFF");
  }
  setMusicUI();

  btnMusic.addEventListener("click", async ()=>{
    try{
      if(!musicOn){
        await music.play(); // will only play if you added a source file
        musicOn = true;
      } else {
        music.pause();
        musicOn = false;
      }
      setMusicUI();
    } catch(e){
      // If no audio source or browser blocks autoplay
      alert("Music play didn't start. Add song.mp3 next to index.html (see comment in code).");
      musicOn = false;
      setMusicUI();
    }
  });

</script>

</body>
</html>
